# url+Enter

## 1：解析url

服务器 文件路径

当没有路径名时，就代表访问根目录下事先设置的默认文件

解析后浏览器确定了Web服务器和文件名，根据这些信息来生成HTTP请求信息了


## 2：生成HTTP请求

通过浏览器解析url生成HTTP请求后，需要委托操作系统发给Web服务器。


委托操作系统需要查询 服务器域名对应的IP地址。

DNS服务器：保留Web服务器域名和IP的对应关系。

域名的层级关系


## 3：DNS: 真实IP地址查询

DNS服务器：保留web服务器域名和IP的对应关系

DNS 中的域名都是用句点来分隔的，比如 www.server.com，这里的句点代表了不同层次之间的界限。

在域名中，越靠右的位置表示其层级越高。

DNS层级结构

根 DNS 服务器
顶级域 DNS 服务器（com）
权威 DNS 服务器（http://server.com）
通过任一服务器就能找到根域DNS服务器了





## 4：操作系统协议栈

通过DNS解析得到IP地址后，可以对HTTP传输工作交给操作系统中的协议栈。

应用程序调用socket库，来委托协议栈工作。

协议栈


## DNS域名解析

### 1：向本地DNS服务器请求查询域名IP,

### 2：若找到则返回IP地址，否则本地DNS服务器请求根域名服务器

### 3：根DNS服务器-->.com顶级服务器

### 4：.com顶级服务器向根域名服务器返回权威服务器地址

### 5：顶级服务器向本地服务器返回权威服务器地址

### 6：本地DNS服务器向权威DNS服务器查询

### 7：权威 DNS 服务器查询后将对应的 IP 地址告诉本地 DNS。

### 8：本地 DNS 再将 IP 地址返回客户端，客户端和目标建立连接。

